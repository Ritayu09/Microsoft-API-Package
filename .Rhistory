install.packages("~/Desktop/API_Project/TextSentiment_0.1.0.tar.gz", repos = NULL, type = "source")
devtools::test()
library(TextSentiment)
devtools::test()
install.packages("~/Desktop/API_Project/TextSentiment_0.1.0.tar.gz", repos = NULL, type = "source")
devtools::test()
install.packages("~/Desktop/API_Project/TextSentiment_0.1.0.tar.gz", repos = NULL, type = "source")
devtools::test()
devtools::test('/Users/ritayu/Desktop/API_Project')
devtools::check()
setwd("~/Desktop/API_Project")
devtools::check()
devtools::test()
setwd("~/Desktop/API_Project/TextSentiment")
devtools::test()
# correct dataframe format
data.test <- data.frame('text' = c('I am good Person', 'This is bad game'), 'language' = c('en', 'en'))
library(testthat)
expect_error(get_batch_sentiment(data.test, "eda0526b71ff44b29c259b9a37fa4911", "westcentralsu"))
library(TextSentiment)
devtools::test()
devtools::use_travis()
library(TextSentiment)
devtools::use_travis()
usethis::use_travis()
library(TextSentiment)
library(testthat)
library(proto)
library(TextSentiment)
# correct dataframe format
data.test <- data.frame('text' = c('I am good Person', 'This is bad game'), 'language' = c('en', 'en'))
sentiment_res <- get_batch_sentiment(data.test, "eda0526b71ff44b29c259b9a37fa4970", "westcentralus")
sentiment_res <- get_batch_sentiment(data.test, "326352eacf604f5da7603e243e303f34", "westcentralus")
sentiment_res <- get_batch_sentiment(data.test, "326352eacf604f5da7603e243e303f34", "westcentralus")
sentiment_res1 <- get_batch_sentiment(data.test, "326352eacf604f5da7603e243e303f35", "westcentralus")
sentiment_res3 <- get_batch_sentiment(data.test2, "326352eacf604f5da7603e243e303f34", "westcentralus")
# incorrect dataframe, language column not present
data.test2 <- data.frame('text' = c('I am good Person', 'This is bad game'), 'text_lang' = c('en', 'en'))
# incorrect dataframe, language format 'eng' is incorrect
data.test3 <- data.frame('text' = c('I am good Person', 'This is bad game'), 'language' = c('en', 'eng'))
# expected results
expected_result <- data.frame('Id' = c(1,2), 'text' = c('I am good Person', 'This is bad game'), 'language' = c('en', 'en'), 'Sentiment Score' = c(0.9909486,0.1099730), check.names = FALSE)
expected_result2 <- data.frame('Id' = c(1,2), 'text' = c('I am good Person', 'This is bad game'), 'language' = c('en', 'eng'), 'Sentiment Score' = c(0.9909486,NA), check.names = FALSE)
sentiment_res1 <- get_batch_sentiment(data.test, "326352eacf604f5da7603e243e303f35", "westcentralus")
sentiment_res3 <- get_batch_sentiment(data.test2, "326352eacf604f5da7603e243e303f34", "westcentralus")
sentiment_res4 <- get_batch_sentiment(data.test3, "326352eacf604f5da7603e243e303f34", "westcentralus")
expect_equal(sentiment_res, expected_result, tolerance = 0.00999)
expect_equal(sentiment_res1, NA)
expect_error(get_batch_sentiment(data.test, "eda0526b71ff44b29c259b9a37fa4911", "westcentralsu"))
expect_equal(sentiment_res3, NA)
expect_equal(sentiment_res4, expected_result2, tolerance = 0.00999)
